import{K as d}from"./app-uu57SfpY.js";import{s as m,h as c}from"./helpers-BIkqR0Wr.js";async function u(i,a){var r,s,o,n;const t=Math.random().toString(36).substring(2,15);localStorage.setItem("checkoutId",t),localStorage.setItem("package_id",a),localStorage.setItem("type","paymentLink");const p="https://api-heka.dev.apero.vn/api/v1/payment/create-payment-link";try{m();const e=await d.post(p,{priceId:a,email:i,successUrl:`${window.location.origin}/payment/success?id=${t}`},{headers:{"Content-Type":"application/json"}});return c(),e.data}catch(e){return c(),((r=e.response)==null?void 0:r.status)===400?((n=(o=(s=e.response)==null?void 0:s.data)==null?void 0:o.error)==null?void 0:n.code)==="USER_ALREADY_VIP"?e.response.data:{success:!1,error:{code:"SOMETHING_WENT_WRONG",message:"Something went wrong, please try again"}}:{success:!1,error:{code:"UNKNOWN_ERROR",message:"An error occurred, please try again later"}}}}export{u as c};
