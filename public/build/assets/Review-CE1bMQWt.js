import{k as u,h as H,D as I,x as Y,b as n,o as i,e,a as p,d as v,w as N,g as G,C as z,t as r,K as V,u as x,F as S,p as K}from"./app-ZqQ0ut5E.js";import{c as P}from"./calculation-D4R8Ilcq.js";import F from"./PaywallModal-Bnd72roN.js";import R from"./SignInModal-CYhtk48x.js";import U from"./EmailModal-CVJ54CQ1.js";import{e as C}from"./tracking-C0FP2swF.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./auth-DFN4XU40.js";const O={class:"relative w-full md:w-1/3 mx-auto overflow-y-auto pb-28 px-4",style:{"min-height":"calc(100vh - 100px)"}},J={key:0,class:"absolute top-0 left-0 w-full h-full z-50 bg-white flex items-center justify-center text-center px-5"},Q={key:0,class:"relative z-10 w-full mx-auto",style:{height:"calc(100vh - 100px)"}},X={class:"flex items-center justify-start"},Z={class:"h-full overflow-y-auto box-step",style:{"padding-bottom":"6rem"}},ee={class:"text-center px-5"},te={class:"flex justify-center p-4"},oe=["src"],ae=["innerHTML"],se={class:"text-center p-0 md:px-5"},le={class:"font-semibold text-sm text-gray-700 mb-1"},ne={key:0,class:"text-xl my-2 font-bold text-black bg-[#f7f7f7] w-full md:w-2/3 mx-auto rounded-full p-2"},ie={class:"relative w-[220px] h-[110px]"},re=["innerHTML"],ue={class:"absolute inset-0 flex flex-col items-center justify-end pb-3"},ce={key:0,class:"text-2xl font-bold text-black"},ge={key:1,class:"text-2xl font-bold text-gray-500"},de={class:"text-gray-500 text-sm"},me={key:0,class:"text-center text-sm bg-[#f4f4f4] w-full md:w-2/3 mx-auto rounded-full p-2 mt-2"},fe={key:1,class:"text-center text-sm font-medium bg-[#f4f4f4] w-full md:w-2/3 mx-auto rounded-full p-2 mt-2 text-red-500"},he={key:2,class:"bg-gray-50 rounded-xl mt-2 p-4 w-full md:w-2/3 mx-auto"},pe={class:"font-semibold text-gray-800 mb-4"},ve=["src","alt"],xe={class:"text-gray-700 font-medium"},be={class:"fixed bottom-0 left-0 right-0 z-50 bg-white shadow pb-4"},we={class:"flex items-center justify-center px-4 py-2"},ye={__name:"Review",props:{userData:{type:Object,required:!0}},emits:["change-screen"],setup($,{emit:j}){const b=u(!1),c=u(!1),w=u(!1);H(()=>{y.value?setTimeout(()=>{y.value=!1,b.value=!0},3e3):b.value=!0});const o=$,y=u(o.userData.showIntro??!0),_=j,d=u(!1),m=u("");I(d,l=>{if(l){const t=parseInt(localStorage.getItem("openModalCount"))||0;localStorage.setItem("openModalCount",t+1),C("iap_view",{convert_number:t+1})}}),I(c,l=>{l&&C("sign_in_pu")});const B=()=>{C("review_scr_next_click"),g?_("change-screen","GoalWeight",o.userData,!1):(o.userData.goal==="lose"?m.value="/images/onboarding/modal/bg_lose_modal.png":o.userData.goal==="gain"?m.value="/images/onboarding/modal/bg_gain_modal.png":o.userData.goal==="maintain"&&(m.value="/images/onboarding/modal/bg_maintain_modal.png"),d.value=!0)},L=l=>{console.log("Price ID:",l)},E=()=>{c.value=!1},W=l=>{console.log(l)},A=()=>{o.userData.goal==="maintain"?_("change-screen","HeightWeight",o.userData,!1):_("change-screen","GoalWeight",o.userData,!1)};let{targetCalories:M,endDate:k,unhappyCase:g}=P();const s=Y(()=>{const l=o.userData.goal,t=o.userData.current_weight;let a=o.userData.goal_weight,f=o.userData.measure_type;o.userData.goal==="maintain"&&(a=t,localStorage.setItem("goal_weight",t));let T='<svg width="220" height="120" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg"> <rect width="100%" height="100%" fill="#e6ebfd" /> <path d="M 20 100 A 90 90 0 0 1 200 100" stroke="#1a1a1a" stroke-width="12" fill="none" stroke-linecap="round" /> <circle cx="200" cy="100" r="8" fill="#1a1a1a" stroke="white" stroke-width="4" /> </svg>',h="";if(f==="imperial"?h=`${t} lb → ${a} lb`:h=`${t} KG → ${a} KG`,M<0)return g=!0,T=`<svg width="220" height="120" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg">
        <!-- Background -->
        <rect width="100%" height="100%" fill="#f8f8f8" />

        <!-- Gauge path -->
        <path
            d="M 20 100 A 90 90 0 0 1 200 100"
            stroke="#d4d4d4"
            stroke-width="12"
            fill="none"
            stroke-linecap="round"
        />

        <!-- Start circle (at 20,100 approx) -->
        <circle cx="20" cy="100" r="8" fill="#d4d4d4" stroke="white" stroke-width="4" />
        </svg>`,{backIcon:"/images/onboarding/back_arrow.png",handImage:"/images/onboarding/error.png",calorieBg:"#f9f7f7",introText:"Can't calculate your daily calories. <br> Please update your main goal to continue.",encouragement:`You've got this! Goal day: ${k}`,svg:T,dailyGoalLabel:"Daily Goal Calories",healthTip:"Adjust your plan to stay healthy!",stepsTitle:"What you can do:",steps:"",buttonText:"Go Back",goalWeightText:h};const D={backIcon:"/images/onboarding/back_arrow.png",handImage:"/images/onboarding/review_hand.png",calorieBg:"#e3e9fb",svg:T,dailyGoalLabel:"Daily Goal Calories",stepsTitle:"Steps to hit your goal:",steps:[{img:"/images/onboarding/food.png",text:"Track your food everyday"},{img:"/images/onboarding/SneakerMove.png",text:"Don’t forget to track your activity"}],buttonText:"Next",goalWeightText:h};return l==="lose"?{...D,healthTip:"Great move for your health 💪",introText:"Thanks for logging your goals. You're one step closer to your transformation.",encouragement:`You've got this! Goal day: ${k}`}:l==="gain"?{...D,healthTip:"A wise move to gain healthy weight. 🍽️",introText:"Thanks for logging your goals. You’re one step closer to your transformation.",encouragement:`Let's do this! Target date: ${k}`}:{...D,healthTip:"Smart step to stay balanced. ⚖️",introText:"Thanks for logging your goals. You're one step closer to your transformation.",encouragement:"Eat smart to maintain your weight."}});return(l,t)=>(i(),n(S,null,[e("div",O,[p(z,{name:"fade"},{default:N(()=>[y.value?(i(),n("div",J,t[6]||(t[6]=[e("div",null,[e("img",{src:"/images/onboarding/gif/info_guide.gif",alt:"Intro",class:"w-1/3 mx-auto mb-4"}),e("p",{class:"text-lg"},[G(" Congrats! Your account is all set. "),e("br"),G(" Enjoy your "),e("strong",null,"journey with Heka! ")])],-1)]))):v("",!0)]),_:1}),b.value?(i(),n("div",Q,[e("div",X,[e("img",{onClick:t[0]||(t[0]=a=>A()),src:"/images/onboarding/back_arrow.png",alt:"back",class:"w-10 h-10 cursor-pointer"})]),e("div",Z,[e("div",ee,[e("div",te,[e("img",{src:s.value.handImage,alt:"thanks",class:"w-2/5 md:w-1/4"},null,8,oe)]),e("div",{class:"text-gray-700 font-medium w-full md:w-4/5 mx-auto",innerHTML:s.value.introText},null,8,ae)]),t[7]||(t[7]=e("hr",{class:"my-4 w-4/5 mx-auto"},null,-1)),e("div",se,[e("p",le,r(s.value.encouragement),1),o.userData.goal!="maintain"?(i(),n("p",ne,r(s.value.goalWeightText),1)):v("",!0)]),e("div",{style:V({backgroundColor:s.value.calorieBg}),class:"flex justify-center py-5 w-4/5 md:w-2/3 mx-auto rounded-lg mb-5"},[e("div",ie,[e("div",{innerHTML:s.value.svg},null,8,re),e("div",ue,[x(g)?(i(),n("p",ge," 0 ")):(i(),n("p",ce,r(x(M)),1)),e("p",de,r(s.value.dailyGoalLabel),1)])])],4),x(g)?(i(),n("p",fe," Invalid goal, unable to calculate calories ")):(i(),n("p",me,r(s.value.healthTip),1)),x(g)?v("",!0):(i(),n("div",he,[e("p",pe,r(s.value.stepsTitle),1),(i(!0),n(S,null,K(s.value.steps,(a,f)=>(i(),n("div",{key:f,class:"flex items-center gap-3 bg-white rounded-xl px-4 py-3 mb-3 shadow-sm"},[e("img",{src:a.img,alt:"step-"+f,class:"w-10 h-10 object-contain"},null,8,ve),e("span",xe,r(a.text),1)]))),128))]))]),e("div",be,[e("div",we,[e("button",{type:"button",class:"text-white bg-black hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-full text-sm px-5 py-2.5 w-full sm:w-1/2 md:w-1/4 btn-next",onClick:B},r(s.value.buttonText),1)])])])):v("",!0)]),p(F,{visible:d.value,backgroundUrl:m.value,onClose:t[1]||(t[1]=a=>d.value=!1),onAccepted:L,onShowSignInModal:t[2]||(t[2]=a=>c.value=!0),onShowEmailModal:t[3]||(t[3]=a=>w.value=!0)},null,8,["visible","backgroundUrl"]),p(R,{visible:c.value,onClose:t[4]||(t[4]=a=>c.value=!1),onLogin:E},null,8,["visible"]),p(U,{visible:w.value,onClose:t[5]||(t[5]=a=>w.value=!1),onEmail:W},null,8,["visible"])],64))}},Se=q(ye,[["__scopeId","data-v-79e7bc6c"]]);export{Se as default};
