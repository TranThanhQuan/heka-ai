import{k as c,h as y,L as k,b as f,o as v,a as h,w as _,d as I,G as S,e as t,M as C,C as M,F as N}from"./app-CbD4fNqt.js";import{a as $}from"./auth-k16j9ER5.js";import P from"./SignInModal-PI4ZLGRM.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./helpers-BIkqR0Wr.js";import"./tracking-Ch4ie_Zk.js";const B={class:"relative z-10 flex flex-col items-center text-center text-white p-6"},L={class:"grid grid-cols-2 gap-2 w-full mx-auto price-option",style:{"padding-top":"21rem"}},E=["src"],V=["src"],j={__name:"PaywallModalNoSignin",props:{visible:Boolean,backgroundUrl:{type:String,required:!0}},emits:["close","accepted","showSignInModal","closeModal"],setup(d,{emit:w}){const s=c(!1),m=c({}),l=w,n=c("12months");y(async()=>{const e=(await k.get("https://api-heka.dev.apero.vn/api/v1/payment/products/prices")).data.data,a={};e.forEach(r=>{var p;const g=(p=r.recurring)==null?void 0:p.interval;g==="month"?a["1month"]=r.id:g==="year"&&(a["12months"]=r.id)}),m.value=a});const i=(o=!1)=>{localStorage.getItem("group_name")==="vip"?window.location.href="/":l("close",o)},b=()=>{const o=m[n.value];if(localStorage.setItem("priceId",o),!localStorage.getItem("accessToken")){l("showSignInModal"),i();return}$(o),l("accepted",o)},u=o=>{n.value=o},x=()=>{isLoggedIn.value=!0,s.value=!1};return(o,e)=>(v(),f(N,null,[h(M,{name:"fade"},{default:_(()=>[d.visible?(v(),f("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center w-full h-full overflow-x-hidden overflow-y-auto bg-black bg-opacity-70",onKeydown:S(i,["esc"])},[t("div",{class:"modal-paywall relative w-full max-w-[250px] mx-auto rounded-2xl overflow-hidden shadow-lg",style:C({background:`url('${d.backgroundUrl}') no-repeat center center/cover`})},[t("button",{onClick:e[0]||(e[0]=a=>i(!0)),class:"absolute top-3 right-3 z-20 w-6 h-6 text-white bg-black bg-opacity-40 hover:bg-opacity-70 rounded-full flex items-center justify-center text-xs"}," âœ• "),t("div",B,[t("div",L,[t("div",{onClick:e[1]||(e[1]=a=>u("1month")),class:"cursor-pointer"},[t("img",{src:n.value==="1month"?"/images/onboarding/modal/1month_active.png":"/images/onboarding/modal/1month.png",alt:"1 month",class:"w-full"},null,8,E)]),t("div",{onClick:e[2]||(e[2]=a=>u("12months")),class:"cursor-pointer"},[t("img",{src:n.value==="12months"?"/images/onboarding/modal/12months_active.png":"/images/onboarding/modal/12months.png",alt:"12 months",class:"w-full"},null,8,V)])]),t("button",{onClick:b,class:"mt-2 w-full bg-gradient-to-r from-yellow-300 to-yellow-500 text-black font-bold py-2 rounded-xl shadow-md"}," Go Premium Now ")])],4)],32)):I("",!0)]),_:1}),h(P,{visible:s.value,onClose:e[3]||(e[3]=a=>s.value=!1),onLogin:x},null,8,["visible"])],64))}},D=z(j,[["__scopeId","data-v-7a95412a"]]);export{D as default};
