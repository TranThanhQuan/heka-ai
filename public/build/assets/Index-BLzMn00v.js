import L from"./OnboardingLayout-BNxXWcNA.js";import M from"./SignIn-FeTCeH-r.js";import A from"./MainGoal-BgSVf8af.js";import p from"./GenderAge-hx5k3fo9.js";import G from"./Activity-BvVomV6-.js";import N from"./HeightWeight-DW9jVdWV.js";import j from"./GoalWeight-Bmqnsm_J.js";import B from"./Review-DIPOF88L.js";import O from"./Nutribution-DBRI8RgJ.js";import P from"./PaywallModal-BSbuGFK5.js";import U from"./SignInModal-C71JZWSN.js";import{Q as $,k as n,x as D,c as g,d as E,o as d,w as R,a as f,P as V}from"./app-uu57SfpY.js";import{s as W,g as H}from"./auth-pMpYANX5.js";import"./index-C0C1GNRj.js";import"./HeaderOnboarding-C2Q_3oq-.js";import"./ApplicationLogo-COyjuGJE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./EmailModal-AtUxm-dA.js";import"./paymentLink-CyvrOYJp.js";import"./helpers-BIkqR0Wr.js";import"./tracking-cM1pk6uz.js";import"./calculation-D4R8Ilcq.js";const ge={__name:"Index",setup(Q){const v=$(),r=n(v.props.source);function l(o,e){if(document.getElementById(e))return;const t=document.createElement("script");t.src=o,t.id=e,t.async=!0,document.head.appendChild(t)}r.value==="get-premium"?l("/scripts/meta.js","meta-pixel"):r.value==="tt-get-premium"?l("/scripts/tiktok.js","tiktok-pixel"):r.value==="ga-get-premium"&&l("/scripts/ga.js","ga-script");const h=n(!1),i=n(!1),a=n(!1),c=n(!1),u=new URLSearchParams(window.location.search).get("code");u?(c.value=!0,W(u)):_();const S=()=>{console.log("handleAccepted")};async function _(){localStorage.getItem("accessToken")&&(h.value=!0,H().then(()=>{const e=localStorage.getItem("group_name"),C=["activity","goal","gender","year_of_birth","measure_type","current_weight","current_height","target_cal","goal_weight","start_date","end_date"].every(x=>{const m=localStorage.getItem(x);return m!==null&&m.trim()!==""});(e==="vip"||C)&&(i.value=!0)}))}const y=n({goal:null,current_weight:null,current_height:null,measure_type:null}),k={SignIn:M,MainGoal:A,GenderAge:p,HeightWeight:N,Activity:G,GoalWeight:j,Review:B,Nutribution:O},s=n("MainGoal");localStorage.removeItem("noSignIn");const w=D(()=>k[s.value]||p);function I(o,e={},t=!1){e.showIntro=t,e.goal?s.value=e.goal==="healthy"?"Nutribution":o:s.value=o}const b=o=>{login(o),a.value=!1};return(o,e)=>c.value?E("",!0):(d(),g(L,{key:0},{default:R(()=>[(d(),g(V(w.value),{userData:y.value,source:r.value,onChangeScreen:I},null,40,["userData","source"])),f(P,{visible:i.value,backgroundUrl:"/images/onboarding/modal/bg_premium_modal.png",onClose:e[0]||(e[0]=t=>i.value=!1),onAccepted:S,onShowSignInModal:e[1]||(e[1]=t=>a.value=!0)},null,8,["visible"]),f(U,{visible:a.value,onClose:e[2]||(e[2]=t=>a.value=!1),onLogin:b},null,8,["visible"])]),_:1}))}};export{ge as default};
