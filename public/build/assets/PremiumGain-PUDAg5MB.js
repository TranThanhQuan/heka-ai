import y from"./OnboardingLayout-BPXahXwE.js";import _ from"./SignIn-DlHmE-_G.js";import C from"./MainGoal-CvfIy2aD.js";import c from"./GenderAge-CE3ZVTsZ.js";import L from"./Activity-DsQMKmGe.js";import M from"./HeightWeight-Oe0lrxlH.js";import x from"./GoalWeight-B8YvGAtw.js";import A from"./Review-w6o6PoHS.js";import G from"./Nutribution-D8SBDhJI.js";import N from"./PaywallModal-0FpD8RhB.js";import P from"./SignInModal-DaR-4LUS.js";import{Q as j,k as n,x as B,c as u,o as p,w as U,a as g,P as $}from"./app-BstSZHB5.js";import{s as D,g as E}from"./auth-Dgskx2uG.js";import"./index-BNIDoqX1.js";import"./HeaderOnboarding-C_emT1xj.js";import"./ApplicationLogo-Cly7ktX-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./EmailModal-2TGKIb4y.js";import"./paymentLink-CvJVvgys.js";import"./helpers-BIkqR0Wr.js";import"./tracking-Ch4ie_Zk.js";import"./calculation-D4R8Ilcq.js";const se={__name:"PremiumGain",setup(O){const f=j(),r=n(f.props.source);function i(t,e){if(document.getElementById(e))return;const o=document.createElement("script");o.src=t,o.id=e,o.async=!0,document.head.appendChild(o)}r.value==="get-premium"?i("/scripts/meta.js","meta-pixel"):r.value==="tt-get-premium"?i("/scripts/tiktok.js","tiktok-pixel"):r.value==="ga-get-premium"&&i("/scripts/ga.js","ga-script");const d=n(!1),l=n(!1),a=n(!1),m=new URLSearchParams(window.location.search).get("code");m?D(m):h();const v=()=>{console.log("handleAccepted")};async function h(){localStorage.getItem("accessToken")&&(d.value=!0,E().then(()=>{localStorage.getItem("group_name")==="vip"&&(l.value=!0)}))}const S=n({goal:null,current_weight:null,current_height:null,measure_type:null,targetScreen:"GenderAge"}),I={SignIn:_,MainGoal:C,GenderAge:c,HeightWeight:M,Activity:L,GoalWeight:x,Review:A,Nutribution:G},s=n("MainGoal");localStorage.removeItem("noSignIn"),localStorage.setItem("goal","gain");const k=B(()=>I[s.value]||c);function w(t,e={},o=!1){e.showIntro=o,e.goal?s.value=e.goal==="healthy"?"Nutribution":t:s.value=t}const b=t=>{login(t),a.value=!1};return(t,e)=>(p(),u(y,null,{default:U(()=>[(p(),u($(k.value),{userData:S.value,source:r.value,onChangeScreen:w},null,40,["userData","source"])),g(N,{visible:l.value,backgroundUrl:"/images/onboarding/modal/bg_premium_modal.png",onClose:e[0]||(e[0]=o=>l.value=!1),onAccepted:v,onShowSignInModal:e[1]||(e[1]=o=>a.value=!0)},null,8,["visible"]),g(P,{visible:a.value,onClose:e[2]||(e[2]=o=>a.value=!1),onLogin:b},null,8,["visible"])]),_:1}))}};export{se as default};
