import{k as D,h as S,x as v,b as n,o as l,a as Y,d as w,w as H,e as t,g as T,B as K,t as i,u as _,J as N,F as W,p as z}from"./app-E0jCcqSd.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"relative w-full md:w-1/3 mx-auto overflow-y-auto pb-28 px-4",style:{"min-height":"calc(100vh - 100px)"}},A={key:0,class:"absolute top-0 left-0 w-full h-full z-50 bg-white flex items-center justify-center text-center px-5"},R={key:0,class:"relative z-10 w-full mx-auto overflow-y-auto pb-16",style:{height:"calc(100vh - 100px)"}},E={class:"flex items-center justify-start"},q=["src"],J={class:"text-center px-5"},O={class:"flex justify-center p-4"},P=["src"],U=["innerHTML"],Q={class:"text-center p-0 md:px-5"},X={class:"font-semibold text-sm text-gray-700 mb-1"},Z={class:"text-xl my-2 font-bold text-black bg-[#f7f7f7] w-full md:w-1/2 mx-auto rounded-full p-2"},tt={class:"relative w-[220px] h-[110px]"},et=["innerHTML"],at={class:"absolute inset-0 flex flex-col items-center justify-end pb-3"},ot={key:0,class:"text-2xl font-bold text-black"},st={key:1,class:"text-2xl font-bold text-gray-500"},nt={class:"text-gray-500 text-sm"},lt={key:0,class:"text-center text-sm font-medium bg-[#f4f4f4] w-full md:w-2/3 mx-auto rounded-full p-2 mt-2"},rt={key:1,class:"text-center text-sm font-medium bg-[#f4f4f4] w-full md:w-2/3 mx-auto rounded-full p-2 mt-2 text-red-500"},it={key:2,class:"bg-gray-50 rounded-xl mt-2 p-4 w-full md:w-2/3 mx-auto"},ct={class:"font-semibold text-gray-800 mb-4"},ut=["src","alt"],dt={class:"text-gray-700 font-medium"},gt={class:"fixed bottom-0 left-0 right-0 z-50 bg-white shadow"},ht={class:"flex items-center justify-center px-4 py-2"},mt={__name:"Review",props:{userData:{type:Object,required:!0}},emits:["change-screen"],setup(G,{emit:M}){const h=D(!1);S(()=>{m.value?setTimeout(()=>{m.value=!1,h.value=!0},3e3):h.value=!0});const c=G,m=D(c.userData.showIntro??!0),I=M;let d=!1;const C=()=>{I("change-screen","GoalWeight",c.userData,!1)},f=v(()=>{const{gender:s,year_of_birth:e,current_weight:o,current_height:r,goal:u,goal_weight:j,duration:B,activity:L}=c.userData,b=new Date().getFullYear()-parseInt(e);let x=0;s==="male"?x=10*o+6.25*r-5*b+5:x=10*o+6.25*r-5*b-161;const g=new Date;g.setDate(g.getDate()+1);const y=new Date(g);y.setMonth(y.getMonth()+parseInt(B));const $=Math.round((y-g)/(1e3*60*60*24));let k=0;return(u==="gain"||u==="lose")&&(k=(j-o)/$*7700),Math.round(x*parseFloat(L)+k)}),p=v(()=>{const s=new Date;s.setDate(s.getDate()+1);const e=new Date(s);return e.setMonth(e.getMonth()+parseInt(c.userData.duration)),e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),a=v(()=>{const s=c.userData.goal,e=c.userData.current_weight,o=c.userData.goal_weight;let r='<svg width="220" height="120" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg"> <rect width="100%" height="100%" fill="#e6ebfd" /> <path d="M 20 100 A 90 90 0 0 1 200 100" stroke="#1a1a1a" stroke-width="12" fill="none" stroke-linecap="round" /> <circle cx="200" cy="100" r="8" fill="#1a1a1a" stroke="white" stroke-width="4" /> </svg>';if(f.value<0)return d=!0,f.value=0,r=`<svg width="220" height="120" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg">
        <!-- Background -->
        <rect width="100%" height="100%" fill="#f8f8f8" />

        <!-- Gauge path -->
        <path
            d="M 20 100 A 90 90 0 0 1 200 100"
            stroke="#d4d4d4"
            stroke-width="12"
            fill="none"
            stroke-linecap="round"
        />

        <!-- Start circle (at 20,100 approx) -->
        <circle cx="20" cy="100" r="8" fill="#d4d4d4" stroke="white" stroke-width="4" />
        </svg>`,{backIcon:"/images/onboarding/back_arrow.png",handImage:"/images/onboarding/error.png",calorieBg:"#f4f4f4",introText:"Can't calculate your daily calories. <br> Please update your main goal to continue.",encouragement:`You've got this! Goal day: ${p.value}`,svg:r,dailyGoalLabel:"Daily Goal Calories",healthTip:"Adjust your plan to stay healthy!",stepsTitle:"What you can do:",steps:"",buttonText:"Go Back",goalWeightText:`${e} KG → ${o} KG`};const u={backIcon:"/images/onboarding/back_arrow.png",handImage:"/images/onboarding/review_hand.png",calorieBg:"#e3e9fb",svg:r,dailyGoalLabel:"Daily Goal Calories",healthTip:"Great move for your health 💪",stepsTitle:"Steps to hit your goal:",steps:[{img:"/images/onboarding/food.png",text:"Track your food everyday"},{img:"/images/onboarding/SneakerMove.png",text:"Don’t forget to track your activity"}],buttonText:"Next",goalWeightText:`${e} KG → ${o} KG`};return s==="lose"?{...u,introText:"Thanks for logging your goals. You're one step closer to your transformation.",encouragement:`You've got this! Goal day: ${p.value}`}:s==="gain"?{...u,introText:"Great job setting your goals! You're on the path to gaining healthy weight.",encouragement:`Let's do this! Target date: ${p.value}`}:{...u,introText:"Let’s maintain your health and lifestyle together.",encouragement:"Keep it up! Healthy living continues."}});return(s,e)=>(l(),n("div",V,[Y(K,{name:"fade"},{default:H(()=>[m.value?(l(),n("div",A,e[2]||(e[2]=[t("div",null,[t("img",{src:"/images/onboarding/gif/info_guide.gif",alt:"Intro",class:"w-1/3 mx-auto mb-4"}),t("p",{class:"text-lg"},[T(" Congrats! Your account is all set. "),t("br"),T(" Enjoy your "),t("strong",null,"journey with Heka! ")])],-1)]))):w("",!0)]),_:1}),h.value?(l(),n("div",R,[t("div",E,[t("img",{onClick:e[0]||(e[0]=o=>C()),src:a.value.backIcon,alt:"back",class:"w-10 h-10 cursor-pointer"},null,8,q)]),t("div",J,[t("div",O,[t("img",{src:a.value.handImage,alt:"thanks",class:"w-2/5 md:w-1/5"},null,8,P)]),t("div",{class:"text-gray-700 font-medium w-full md:w-4/5 mx-auto",innerHTML:a.value.introText},null,8,U)]),e[3]||(e[3]=t("hr",{class:"my-4 w-4/5 mx-auto"},null,-1)),t("div",Q,[t("p",X,i(a.value.encouragement),1),t("p",Z,i(a.value.goalWeightText),1)]),t("div",{style:N({backgroundColor:a.value.calorieBg}),class:"flex justify-center py-5 w-4/5 md:w-2/3 mx-auto rounded-lg mb-5"},[t("div",tt,[t("div",{innerHTML:a.value.svg},null,8,et),t("div",at,[_(d)?(l(),n("p",st," 0 ")):(l(),n("p",ot,i(f.value),1)),t("p",nt,i(a.value.dailyGoalLabel),1)])])],4),_(d)?(l(),n("p",rt," Invalid goal, unable to calculate calories ⚠️ ")):(l(),n("p",lt,i(a.value.healthTip),1)),_(d)?w("",!0):(l(),n("div",it,[t("p",ct,i(a.value.stepsTitle),1),(l(!0),n(W,null,z(a.value.steps,(o,r)=>(l(),n("div",{key:r,class:"flex items-center gap-3 bg-white rounded-xl px-4 py-3 mb-3 shadow-sm"},[t("img",{src:o.img,alt:"step-"+r,class:"w-10 h-10 object-contain"},null,8,ut),t("span",dt,i(o.text),1)]))),128))])),t("div",gt,[t("div",ht,[t("button",{type:"button",class:"text-white bg-black hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-full text-sm px-5 py-2.5 w-full sm:w-1/2 md:w-1/4",onClick:e[1]||(e[1]=o=>s.$emit("change-screen","SignIn"))},i(a.value.buttonText),1)])])])):w("",!0)]))}},yt=F(mt,[["__scopeId","data-v-9a24054f"]]);export{yt as default};
