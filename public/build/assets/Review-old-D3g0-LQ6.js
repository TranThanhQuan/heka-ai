import{k as c,h as W,x as A,b as s,o as l,e,a as T,d as p,w as H,g as D,C as Y,t as i,K as N,u as v,F as C,p as z}from"./app-bNNcx6oO.js";import{c as V}from"./calculation-D4R8Ilcq.js";import E from"./PaywallModal-CW_55P9Q.js";import K from"./SignInModal-D0O4BAyn.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./auth-UcsJpnVh.js";import"./helpers-BIkqR0Wr.js";import"./tracking-C_NHU40R.js";import"./EmailModal-BWmmSoBK.js";const F={class:"relative w-full md:w-1/3 mx-auto overflow-y-auto pb-28 px-4",style:{"min-height":"calc(100vh - 100px)"}},O={key:0,class:"absolute top-0 left-0 w-full h-full z-50 bg-white flex items-center justify-center text-center px-5"},R={key:0,class:"relative z-10 w-full mx-auto",style:{height:"calc(100vh - 100px)"}},U={class:"flex items-center justify-start"},q=["src"],J={class:"h-full overflow-y-auto box-step",style:{"padding-bottom":"6rem"}},Q={class:"text-center px-5"},X={class:"flex justify-center p-4"},Z=["src"],ee=["innerHTML"],te={class:"text-center p-0 md:px-5"},ae={class:"font-semibold text-sm text-gray-700 mb-1"},oe={key:0,class:"text-xl my-2 font-bold text-black bg-[#f7f7f7] w-full md:w-2/3 mx-auto rounded-full p-2"},se={class:"relative w-[220px] h-[110px]"},le=["innerHTML"],ne={class:"absolute inset-0 flex flex-col items-center justify-end pb-3"},ie={key:0,class:"text-2xl font-bold text-black"},re={key:1,class:"text-2xl font-bold text-gray-500"},ue={class:"text-gray-500 text-sm"},ce={key:0,class:"text-center text-sm font-medium bg-[#f4f4f4] w-full md:w-2/3 mx-auto rounded-full p-2 mt-2"},de={key:1,class:"text-center text-sm font-medium bg-[#f4f4f4] w-full md:w-2/3 mx-auto rounded-full p-2 mt-2 text-red-500"},ge={key:2,class:"bg-gray-50 rounded-xl mt-2 p-4 w-full md:w-2/3 mx-auto"},me={class:"font-semibold text-gray-800 mb-4"},he=["src","alt"],fe={class:"text-gray-700 font-medium"},pe={class:"fixed bottom-0 left-0 right-0 z-50 bg-white shadow pb-4"},ve={class:"flex items-center justify-center px-4 py-2"},xe={__name:"Review-old",props:{userData:{type:Object,required:!0}},emits:["change-screen"],setup(I,{emit:G}){const x=c(!1),d=c(!1);W(()=>{y.value?setTimeout(()=>{y.value=!1,x.value=!0},3e3):x.value=!0});const a=I,y=c(a.userData.showIntro??!0),b=G,w=c(!1),g=c(""),M=()=>{r?b("change-screen","GoalWeight",a.userData,!1):(a.userData.goal==="lose"?g.value="/images/onboarding/modal/bg_lose_modal.png":a.userData.goal==="gain"?g.value="/images/onboarding/modal/bg_gain_modal.png":a.userData.goal==="maintain"&&(g.value="/images/onboarding/modal/bg_maintain_modal.png"),w.value=!0,saveData())},j=u=>{console.log("Price ID:",u)},B=()=>{d.value=!1},L=()=>{a.userData.goal==="maintain"?b("change-screen","HeightWeight",a.userData,!1):b("change-screen","GoalWeight",a.userData,!1)},{targetCalories:m,endDate:S,unhappyCase:r,durationDays:$}=V();console.log(m,S,r,$);const o=A(()=>{const u=a.userData.goal,t=a.userData.current_weight;let n=a.userData.goal_weight,h=a.userData.measure_type;a.userData.goal==="maintain"&&(n=t,localStorage.setItem("goal_weight",t));let _='<svg width="220" height="120" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg"> <rect width="100%" height="100%" fill="#e6ebfd" /> <path d="M 20 100 A 90 90 0 0 1 200 100" stroke="#1a1a1a" stroke-width="12" fill="none" stroke-linecap="round" /> <circle cx="200" cy="100" r="8" fill="#1a1a1a" stroke="white" stroke-width="4" /> </svg>',f="";if(h==="imperial"?f=`${t} lb → ${n} lb`:f=`${t} KG → ${n} KG`,m.value<0)return r=!0,m.value=0,_=`<svg width="220" height="120" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg">
        <!-- Background -->
        <rect width="100%" height="100%" fill="#f8f8f8" />

        <!-- Gauge path -->
        <path
            d="M 20 100 A 90 90 0 0 1 200 100"
            stroke="#d4d4d4"
            stroke-width="12"
            fill="none"
            stroke-linecap="round"
        />

        <!-- Start circle (at 20,100 approx) -->
        <circle cx="20" cy="100" r="8" fill="#d4d4d4" stroke="white" stroke-width="4" />
        </svg>`,{backIcon:"/images/onboarding/back_arrow.png",handImage:"/images/onboarding/error.png",calorieBg:"#f4f4f4",introText:"Can't calculate your daily calories. <br> Please update your main goal to continue.",encouragement:`You've got this! Goal day: ${goalDate.value}`,svg:_,dailyGoalLabel:"Daily Goal Calories",healthTip:"Adjust your plan to stay healthy!",stepsTitle:"What you can do:",steps:"",buttonText:"Go Back",goalWeightText:f};const k={backIcon:"/images/onboarding/back_arrow.png",handImage:"/images/onboarding/review_hand.png",calorieBg:"#e3e9fb",svg:_,dailyGoalLabel:"Daily Goal Calories",stepsTitle:"Steps to hit your goal:",steps:[{img:"/images/onboarding/food.png",text:"Track your food everyday"},{img:"/images/onboarding/SneakerMove.png",text:"Don’t forget to track your activity"}],buttonText:"Next",goalWeightText:f};return u==="lose"?{...k,healthTip:"Great move for your health 💪",introText:"Thanks for logging your goals. You're one step closer to your transformation.",encouragement:`You've got this! Goal day: ${goalDate.value}`}:u==="gain"?{...k,healthTip:"A Wise move to gain healthy weight.",introText:"Great job setting your goals! You're on the path to gaining healthy weight.",encouragement:`Let's do this! Target date: ${goalDate.value}`}:{...k,healthTip:"Smart step to stay balanced.",introText:"Thanks for logging your goals. You're one step closer to your transformation.",encouragement:"Eat smart to maintain your weight."}});return(u,t)=>(l(),s(C,null,[e("div",F,[T(Y,{name:"fade"},{default:H(()=>[y.value?(l(),s("div",O,t[4]||(t[4]=[e("div",null,[e("img",{src:"/images/onboarding/gif/info_guide.gif",alt:"Intro",class:"w-1/3 mx-auto mb-4"}),e("p",{class:"text-lg"},[D(" Congrats! Your account is all set. "),e("br"),D(" Enjoy your "),e("strong",null,"journey with Heka! ")])],-1)]))):p("",!0)]),_:1}),x.value?(l(),s("div",R,[e("div",U,[e("img",{onClick:t[0]||(t[0]=n=>L()),src:o.value.backIcon,alt:"back",class:"w-10 h-10 cursor-pointer"},null,8,q)]),e("div",J,[e("div",Q,[e("div",X,[e("img",{src:o.value.handImage,alt:"thanks",class:"w-2/5 md:w-1/4"},null,8,Z)]),e("div",{class:"text-gray-700 font-medium w-full md:w-4/5 mx-auto",innerHTML:o.value.introText},null,8,ee)]),t[5]||(t[5]=e("hr",{class:"my-4 w-4/5 mx-auto"},null,-1)),e("div",te,[e("p",ae,i(o.value.encouragement),1),a.userData.goal!="maintain"?(l(),s("p",oe,i(o.value.goalWeightText),1)):p("",!0)]),e("div",{style:N({backgroundColor:o.value.calorieBg}),class:"flex justify-center py-5 w-4/5 md:w-2/3 mx-auto rounded-lg mb-5"},[e("div",se,[e("div",{innerHTML:o.value.svg},null,8,le),e("div",ne,[v(r)?(l(),s("p",re," 0 ")):(l(),s("p",ie,i(v(m)),1)),e("p",ue,i(o.value.dailyGoalLabel),1)])])],4),v(r)?(l(),s("p",de," Invalid goal, unable to calculate calories ⚠️ ")):(l(),s("p",ce,i(o.value.healthTip),1)),v(r)?p("",!0):(l(),s("div",ge,[e("p",me,i(o.value.stepsTitle),1),(l(!0),s(C,null,z(o.value.steps,(n,h)=>(l(),s("div",{key:h,class:"flex items-center gap-3 bg-white rounded-xl px-4 py-3 mb-3 shadow-sm"},[e("img",{src:n.img,alt:"step-"+h,class:"w-10 h-10 object-contain"},null,8,he),e("span",fe,i(n.text),1)]))),128))]))]),e("div",pe,[e("div",ve,[e("button",{type:"button",class:"text-white bg-black hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-full text-sm px-5 py-2.5 w-full sm:w-1/2 md:w-1/4",onClick:M},i(o.value.buttonText),1)])])])):p("",!0)]),T(E,{visible:w.value,backgroundUrl:g.value,onClose:t[1]||(t[1]=n=>w.value=!1),onAccepted:j,onShowSignInModal:t[2]||(t[2]=n=>d.value=!0)},null,8,["visible","backgroundUrl"]),T(K,{visible:d.value,onClose:t[3]||(t[3]=n=>d.value=!1),onLogin:B},null,8,["visible"])],64))}},Ge=P(xe,[["__scopeId","data-v-7eb36e89"]]);export{Ge as default};
