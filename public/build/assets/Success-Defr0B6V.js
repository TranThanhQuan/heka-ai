import{k as u,h as g,b as m,o as f,a as p,e as t,u as n,Z as h,g as r,d as _,t as v,F as k}from"./app-9V48P13v.js";import{u as w}from"./auth-BJmfs2ip.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";function y(i,a=null){let o=localStorage.getItem("redirectUri");o?o=o.split("/").filter(Boolean).pop():o=window.location.pathname.split("/").filter(Boolean).pop();const s={event_name:i,event_data:a?JSON.stringify(a):null,path:o};console.log("payload event tracking: ",s)}const b={class:"min-h-screen flex items-center justify-center bg-[#e2ebfb]"},I={class:"text-center px-4 py-6 max-w-md w-full"},S={class:"text-lg text-left mb-6 space-y-1"},B={key:0},M={class:"text-black"},P=["href"],A={__name:"Success",props:{sessionId:String},setup(i){const a=i;let o=u(""),s=u("");const d=localStorage.getItem("accessToken");if(!d)window.location.href="/";else{y("payment_success",{sessionId:a.sessionId,email:o.value,downloadUrl:s.value,accessToken:d});const l=["activity","goal","gender","year_of_birth","measure_type","current_weight","current_height","target_cal","goal_weight","start_date","end_date"],e={};l.forEach(c=>{e[c]=localStorage.getItem(c)}),console.log("data: ",e),w(e)}return o.value=localStorage.getItem("email"),o.value||(document.getElementById("email").style.display="none"),g(()=>{if(result)s.value=result.clickURL;else{const l=navigator.userAgent;if(l.includes("iPhone")||l.includes("iPad")||l.includes("iPod"))s.value=void 0;else if(l.includes("Android"))s.value=void 0;else{const e=(void 0).split(",");l.includes("iPhone")||l.includes("iPad")||l.includes("iPod")||l.includes("Android"),s.value=e[Math.floor(Math.random()*e.length)]}}}),(l,e)=>(f(),m(k,null,[p(n(h),{title:"Subscription Activated"}),t("div",b,[t("div",I,[e[3]||(e[3]=t("h4",{class:"text-xl font-bold mb-4"},[r(" Thanks for being amazing with Heka AI."),t("br"),r(" Let's start your plan now! ")],-1)),e[4]||(e[4]=t("a",{href:"/"},[t("img",{src:"/images/icon.png",alt:"Heka Logo",class:"w-20 h-20 mx-auto my-4"})],-1)),t("ol",S,[e[1]||(e[1]=t("li",null,"1. Click on the link below to download Heka AI",-1)),e[2]||(e[2]=t("li",null,'2. Open the app and select "Sign in"',-1)),n(o)?(f(),m("li",B,[e[0]||(e[0]=r(" 3. Use your sign-up email: ")),t("strong",M,v(n(o)),1)])):_("",!0)]),t("a",{href:n(s),class:"block w-full text-white btn-download"}," Download Heka ",8,P),e[5]||(e[5]=t("a",{href:"/",class:"text-indigo-600 text-sm hover:text-indigo-800 block mt-2"},"Back to home",-1))])])],64))}},H=x(A,[["__scopeId","data-v-fd717b9a"]]);export{H as default};
