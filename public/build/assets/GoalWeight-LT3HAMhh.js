import{k as m,D as j,l as A,b as h,o as x,e as t,g as C,a as B,w as F,n as H,t as b,m as z,q,F as E}from"./app-evKfR2We.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"w-full md:w-1/3 mx-auto overflow-y-auto pb-28 px-4"},Y={class:"relative flex items-start"},R={class:"absolute right-0 top-2 w-3/5 md:w-3/5 max-w-md py-2 px-4 text-left text-lg shadow-lg rounded-2xl bg-white flex items-center mr-1 md:mr-10"},J=["innerHTML"],K={key:1},Q={class:"flex flex-col mt-6 px-4"},X={class:"w-1/2 mx-auto"},Z={class:"flex flex-col gap-3 px-4"},ee={class:"flex items-center justify-center bg-gray-50 border border-gray-300 rounded-full px-4 py-0 space-x-4 w-4/5 mx-auto"},te={class:"text-lg font-semibold w-16 text-center border-b border-gray-300"},se={class:"fixed bottom-0 left-0 right-0 z-40 shadow bg-white pb-2 px-4"},ae={class:"flex items-center justify-center px-4 py-2"},le=["disabled"],oe={__name:"GoalWeight",props:{userData:Object},emits:["change-screen"],setup(S,{emit:V}){const o=S,w=V,v=m(o.userData.measure_type==="imperial"),u=m(o.userData.current_weight??(v.value?130:50)),y=m([]),i=m(""),n=m(!1),a=m(1),d=m("month");y.value=Array.from({length:v.value?550:250},(r,e)=>({name:(e+1).toString(),value:e+1})),(()=>{const{measure_type:r,current_weight:e,goal:l}=o.userData;if(!r||!e||!l)return;let s=e;r==="imperial"?s=l==="lose"?Math.max(1,e-8):Math.min(e+8,700):s=l==="lose"?Math.max(1,e-4):Math.min(e+4,360),u.value=s,o.userData.goal_weight=s})(),j([u,a,d],()=>{const{measure_type:r,current_weight:e,goal:l}=o.userData,s=Number(u.value);if(n.value=!1,i.value="",!r||!l||!e||!a.value)return;const c=l==="lose",k=l==="gain";if(r==="imperial"?c&&s>=e||k&&s<=e?(n.value=!0,i.value=`You want to <span class="font-bold ">${l}</span> weight, so pick a <span class="font-bold">${c?"lower":"higher"}</span> weight.`):(s<1||s>700)&&(n.value=!0,i.value=" Weight must be 1–700 lbs."):c&&s>=e||k&&s<=e?(n.value=!0,i.value=`You want to <span class="font-bold ">${l}</span> weight, so pick a <span class="font-bold">${c?"lower":"higher"}</span> weight.`):(s<1||s>360)&&(n.value=!0,i.value=" Weight must be 1–360 kg."),!n.value){let g=Math.abs(s-e);r==="imperial"&&(g*=.453592);const T=d.value==="month"?a.value*30:a.value,_=g/T*7,p=l==="gain"?"gaining":"losing",D=r==="imperial",$=D?"lb":"kg",f=D?g/.453592:g,W=Number.isInteger(f)?f.toString():f.toFixed(1),M=d.value==="month"?`${a.value} month${a.value>1?"s":""}`:`${a.value} day${a.value>1?"s":""}`;if(_>1.5)i.value=`Hey, <span class="font-bold text-red-600">${p}</span> <span class="font-bold text-red-600">${W}${$}</span> in <span class="font-bold text-red-600">${M}</span> is pretty fast.`,n.value=!0;else{const U=p.charAt(0).toUpperCase()+p.slice(1);i.value=`Awesome progress!<span class="font-bold"> ${U} ${W}${$}</span> in <span class="font-bold">${M}</span> is safe and healthy.`}console.log("✅ Weekly change (kg):",_.toFixed(2))}setTimeout(()=>{const g=document.querySelector('.vue-scroll-picker-item[aria-selected="true"]');g&&g.classList.toggle("invalid-weight",n.value)},10)});const I=()=>a.value++,G=()=>{a.value>1&&a.value--},N=()=>{localStorage.setItem("goal_weight",u.value),localStorage.setItem("duration",a.value),localStorage.setItem("unit",d.value),o.userData.goal_weight=u.value,o.userData.duration=a.value,o.userData.unit=d.value,w("change-screen","Review",o.userData,!0)},L=()=>{w("change-screen","HeightWeight",o.userData,!1)};return(r,e)=>{const l=A("VueScrollPicker");return x(),h(E,null,[t("div",P,[t("div",{class:"flex items-center mb-2 h-8"},[t("button",{onClick:L,class:"mr-2 bg-gray-200 rounded-full p-1"},e[2]||(e[2]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1)])),e[3]||(e[3]=t("div",{class:"w-full bg-gray-200 rounded-full h-2"},[t("div",{class:"bg-blue-500 h-2 rounded-full",style:{width:"80%"}})],-1))]),t("div",Y,[t("div",R,[i.value?(x(),h("div",{key:0,innerHTML:i.value},null,8,J)):(x(),h("div",K,e[4]||(e[4]=[C(" What's your "),t("strong",null,"goal?",-1),C(" Let me help customize for you. ")])))]),e[5]||(e[5]=t("div",{class:"ml-0 sm:ml-5 mt-3"},[t("img",{src:"/images/onboarding/gif/info_guide.gif",alt:"Activity Guide",class:"w-32 md:w-1/3"})],-1))]),e[10]||(e[10]=t("hr",{class:"my-2"},null,-1)),t("div",Q,[e[6]||(e[6]=t("label",{class:"text-gray-900 font-medium"},"Weight",-1)),t("div",X,[B(l,{options:y.value,modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s)},{default:F(({option:s,selected:c})=>[t("div",{class:H([c?"text-2xl font-bold":"text-2xl",c&&n.value?"text-red-500":"text-black"])},b(s.name)+" "+b(v.value?"Ib":"kg"),3)]),_:1},8,["options","modelValue"])])]),t("div",Z,[e[9]||(e[9]=t("label",{class:"text-gray-900 font-medium"},"Duration",-1)),t("div",ee,[t("button",{onClick:G,class:"text-xl text-gray-500 hover:text-black"}," − "),t("div",te,b(a.value),1),t("button",{onClick:I,class:"text-xl text-gray-500 hover:text-black"}," + "),e[8]||(e[8]=t("div",{class:"w-px h-6 bg-gray-300 mx-2"},null,-1)),z(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),class:"bg-transparent text-gray-700 focus:outline-none cursor-pointer border-none focus:border-none"},e[7]||(e[7]=[t("option",{value:"month",selected:""},"Month",-1)]),512),[[q,d.value]])])])]),t("div",se,[t("div",ae,[t("button",{onClick:N,disabled:n.value,class:"w-full md:w-1/4 text-white font-medium rounded-full text-sm px-5 py-2.5 mb-2 transition focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:opacity-50 disabled:cursor-not-allowed bg-black hover:bg-gray-900"}," Next ",8,le)])])],64)}}},ue=O(oe,[["__scopeId","data-v-3b27c89c"]]);export{ue as default};
