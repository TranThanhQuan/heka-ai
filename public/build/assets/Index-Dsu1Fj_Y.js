import L from"./OnboardingLayout-BWnywImY.js";import M from"./SignIn-DpHqEO-D.js";import A from"./MainGoal-DTh3Zh4H.js";import g from"./GenderAge-Bik_OKvc.js";import G from"./Activity-C3aRHs2K.js";import N from"./HeightWeight-BXnJcah_.js";import O from"./GoalWeight-S8P6o7Mt.js";import j from"./Review-CSJAcl29.js";import B from"./Nutribution-u4X3gb1A.js";import U from"./PaywallModal-XFXjCETh.js";import $ from"./SignInModal-CWvimqcn.js";import{Q as D,k as n,x as E,c as p,d as P,o as d,w as R,a as f,O as V}from"./app-E3fMhlOL.js";import{s as W,g as H}from"./auth-Drr8GQrd.js";import"./index-CFKSEik5.js";import"./HeaderOnboarding-IreOuITp.js";import"./ApplicationLogo-6xyCtdaA.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./EmailModal-BKE3rZIQ.js";import"./helpers-BIkqR0Wr.js";import"./tracking-Ch4ie_Zk.js";import"./calculation-D4R8Ilcq.js";const ge={__name:"Index",setup(Q){const v=D(),r=n(v.props.source);function l(o,e){if(document.getElementById(e))return;const t=document.createElement("script");t.src=o,t.id=e,t.async=!0,document.head.appendChild(t)}r.value==="get-premium"?l("/scripts/meta.js","meta-pixel"):r.value==="tt-get-premium"?l("/scripts/tiktok.js","tiktok-pixel"):r.value==="ga-get-premium"&&l("/scripts/ga.js","ga-script");const h=n(!1),i=n(!1),a=n(!1),c=n(!1),u=new URLSearchParams(window.location.search).get("code");u?(c.value=!0,W(u)):_();const S=()=>{console.log("handleAccepted")};async function _(){localStorage.getItem("accessToken")&&(h.value=!0,H().then(()=>{const e=localStorage.getItem("group_name"),C=["activity","goal","gender","year_of_birth","measure_type","current_weight","current_height","target_cal","goal_weight","start_date","end_date"].every(x=>{const m=localStorage.getItem(x);return m!==null&&m.trim()!==""});(e==="vip"||C)&&(i.value=!0)}))}const y=n({goal:null,current_weight:null,current_height:null,measure_type:null}),k={SignIn:M,MainGoal:A,GenderAge:g,HeightWeight:N,Activity:G,GoalWeight:O,Review:j,Nutribution:B},s=n("MainGoal");localStorage.removeItem("noSignIn");const w=E(()=>k[s.value]||g);function I(o,e={},t=!1){e.showIntro=t,e.goal?s.value=e.goal==="healthy"?"Nutribution":o:s.value=o}const b=o=>{login(o),a.value=!1};return(o,e)=>c.value?P("",!0):(d(),p(L,{key:0},{default:R(()=>[(d(),p(V(w.value),{userData:y.value,source:r.value,onChangeScreen:I},null,40,["userData","source"])),f(U,{visible:i.value,backgroundUrl:"/images/onboarding/modal/bg_premium_modal.png",onClose:e[0]||(e[0]=t=>i.value=!1),onAccepted:S,onShowSignInModal:e[1]||(e[1]=t=>a.value=!0)},null,8,["visible"]),f($,{visible:a.value,onClose:e[2]||(e[2]=t=>a.value=!1),onLogin:b},null,8,["visible"])]),_:1}))}};export{ge as default};
