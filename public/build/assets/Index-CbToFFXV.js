import _ from"./OnboardingLayout-HgzmJr9V.js";import y from"./SignIn-DZMq5GJ3.js";import x from"./MainGoal-B86hOLhC.js";import u from"./GenderAge-B1Ifs-E1.js";import C from"./Activity-gLRyNtI9.js";import L from"./HeightWeight-Bpmnd0xE.js";import M from"./GoalWeight-N4SByoja.js";import A from"./Review-Db8eR25j.js";import j from"./Nutribution-YqqHpUeK.js";import G from"./PaywallModal-D7exoRWM.js";import N from"./SignInModal-B2wv_Uw8.js";import{Q as $,k as n,x as B,c as m,o as p,w as U,a as g,L as D}from"./app-DTqH8-hJ.js";import{s as E,g as P}from"./auth-Bxa-nPcW.js";import"./index-Bw7Sw5iZ.js";import"./HeaderOnboarding-D78QExPU.js";import"./ApplicationLogo-DAfjDTCk.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ne={__name:"Index",setup(R){const f=$(),a=n(f.props.source);function l(t,e){if(document.getElementById(e))return;const o=document.createElement("script");o.src=t,o.id=e,o.async=!0,document.head.appendChild(o)}a.value==="get-premium"?l("/scripts/meta.js","meta-pixel"):a.value==="tt-get-premium"?l("/scripts/tiktok.js","tiktok-pixel"):a.value==="ga-get-premium"&&l("/scripts/ga.js","ga-script");const d=n(!1),i=n(!1),r=n(!1),c=new URLSearchParams(window.location.search).get("code");c?E(c):h();const v=()=>{console.log("handleAccepted")};async function h(){localStorage.getItem("accessToken")&&(d.value=!0,P().then(()=>{localStorage.getItem("group_name")==="vip"&&(i.value=!0)}))}const S=n({goal:null,current_weight:null,current_height:null,measure_type:null}),k={SignIn:y,MainGoal:x,GenderAge:u,HeightWeight:L,Activity:C,GoalWeight:M,Review:A,Nutribution:j},s=n("MainGoal"),w=B(()=>k[s.value]||u);function I(t,e={},o=!1){e.showIntro=o,e.goal?s.value=e.goal==="healthy"?"Nutribution":t:s.value=t}const b=t=>{login(t),r.value=!1};return(t,e)=>(p(),m(_,null,{default:U(()=>[(p(),m(D(w.value),{userData:S.value,source:a.value,onChangeScreen:I},null,40,["userData","source"])),g(G,{visible:i.value,backgroundUrl:"/images/onboarding/modal/bg-modal.jpg",onClose:e[0]||(e[0]=o=>i.value=!1),onAccepted:v,onShowSignInModal:e[1]||(e[1]=o=>r.value=!0)},null,8,["visible"]),g(N,{visible:r.value,onClose:e[2]||(e[2]=o=>r.value=!1),onLogin:b},null,8,["visible"])]),_:1}))}};export{ne as default};
