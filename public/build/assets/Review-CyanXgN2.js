import{k as m,h as N,x as b,b as l,o as r,e,a as C,d as k,w as z,g as I,C as F,t as u,K as V,u as D,F as j,p as P}from"./app-CKZt8pRF.js";import R from"./PaywallModal-DDM8B6IR.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"relative w-full md:w-1/3 mx-auto overflow-y-auto pb-28 px-4",style:{"min-height":"calc(100vh - 100px)"}},q={key:0,class:"absolute top-0 left-0 w-full h-full z-50 bg-white flex items-center justify-center text-center px-5"},O={key:0,class:"relative z-10 w-full mx-auto overflow-y-auto pb-16",style:{height:"calc(100vh - 100px)"}},J={class:"flex items-center justify-start"},Q=["src"],X={class:"text-center px-5"},Z={class:"flex justify-center p-4"},ee=["src"],te=["innerHTML"],ae={class:"text-center p-0 md:px-5"},oe={class:"font-semibold text-sm text-gray-700 mb-1"},se={class:"text-xl my-2 font-bold text-black bg-[#f7f7f7] w-full md:w-1/2 mx-auto rounded-full p-2"},ne={class:"relative w-[220px] h-[110px]"},le=["innerHTML"],re={class:"absolute inset-0 flex flex-col items-center justify-end pb-3"},ie={key:0,class:"text-2xl font-bold text-black"},ue={key:1,class:"text-2xl font-bold text-gray-500"},ce={class:"text-gray-500 text-sm"},de={key:0,class:"text-center text-sm font-medium bg-[#f4f4f4] w-full md:w-2/3 mx-auto rounded-full p-2 mt-2"},ge={key:1,class:"text-center text-sm font-medium bg-[#f4f4f4] w-full md:w-2/3 mx-auto rounded-full p-2 mt-2 text-red-500"},he={key:2,class:"bg-gray-50 rounded-xl mt-2 p-4 w-full md:w-2/3 mx-auto"},me={class:"font-semibold text-gray-800 mb-4"},fe=["src","alt"],pe={class:"text-gray-700 font-medium"},xe={class:"fixed bottom-0 left-0 right-0 z-50 bg-white shadow"},ve={class:"flex items-center justify-center px-4 py-2"},ye={__name:"Review",props:{userData:{type:Object,required:!0}},emits:["change-screen"],setup(B,{emit:L}){const f=m(!1);N(()=>{p.value?setTimeout(()=>{p.value=!1,f.value=!0},3e3):f.value=!0});const a=B,p=m(a.userData.showIntro??!0),T=L,x=m(!1);let d=!1;const g=m(""),$=()=>{d?T("change-screen","GoalWeight",a.userData,!1):(a.userData.goal==="lose"?g.value="/images/onboarding/modal/bg_lose_modal.png":a.userData.goal==="gain"?g.value="/images/onboarding/modal/bg_gain_modal.png":a.userData.goal==="maintain"&&(g.value="/images/onboarding/modal/bg_maintain_modal.png"),x.value=!0)},Y=n=>{console.log("Price ID:",n)},S=()=>{T("change-screen","GoalWeight",a.userData,!1)},v=b(()=>{const{gender:n,year_of_birth:t,current_weight:s,current_height:i,goal:c,goal_weight:H,duration:K,activity:W}=a.userData,M=new Date().getFullYear()-parseInt(t);let w=0;n==="male"?w=10*s+6.25*i-5*M+5:w=10*s+6.25*i-5*M-161;const h=new Date;h.setDate(h.getDate()+1);const _=new Date(h);_.setMonth(_.getMonth()+parseInt(K));const A=Math.round((_-h)/(1e3*60*60*24));let G=0;return(c==="gain"||c==="lose")&&(G=(H-s)/A*7700),Math.round(w*parseFloat(W)+G)}),y=b(()=>{const n=new Date;n.setDate(n.getDate()+1);const t=new Date(n);return t.setMonth(t.getMonth()+parseInt(a.userData.duration)),t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),o=b(()=>{const n=a.userData.goal,t=a.userData.current_weight;let s=a.userData.goal_weight;a.userData.goal==="maintain"&&(s=t);let i='<svg width="220" height="120" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg"> <rect width="100%" height="100%" fill="#e6ebfd" /> <path d="M 20 100 A 90 90 0 0 1 200 100" stroke="#1a1a1a" stroke-width="12" fill="none" stroke-linecap="round" /> <circle cx="200" cy="100" r="8" fill="#1a1a1a" stroke="white" stroke-width="4" /> </svg>';if(v.value<0)return d=!0,v.value=0,i=`<svg width="220" height="120" viewBox="0 0 220 120" xmlns="http://www.w3.org/2000/svg">
        <!-- Background -->
        <rect width="100%" height="100%" fill="#f8f8f8" />

        <!-- Gauge path -->
        <path
            d="M 20 100 A 90 90 0 0 1 200 100"
            stroke="#d4d4d4"
            stroke-width="12"
            fill="none"
            stroke-linecap="round"
        />

        <!-- Start circle (at 20,100 approx) -->
        <circle cx="20" cy="100" r="8" fill="#d4d4d4" stroke="white" stroke-width="4" />
        </svg>`,{backIcon:"/images/onboarding/back_arrow.png",handImage:"/images/onboarding/error.png",calorieBg:"#f4f4f4",introText:"Can't calculate your daily calories. <br> Please update your main goal to continue.",encouragement:`You've got this! Goal day: ${y.value}`,svg:i,dailyGoalLabel:"Daily Goal Calories",healthTip:"Adjust your plan to stay healthy!",stepsTitle:"What you can do:",steps:"",buttonText:"Go Back",goalWeightText:`${t} KG → ${s} KG`};const c={backIcon:"/images/onboarding/back_arrow.png",handImage:"/images/onboarding/review_hand.png",calorieBg:"#e3e9fb",svg:i,dailyGoalLabel:"Daily Goal Calories",healthTip:"Great move for your health 💪",stepsTitle:"Steps to hit your goal:",steps:[{img:"/images/onboarding/food.png",text:"Track your food everyday"},{img:"/images/onboarding/SneakerMove.png",text:"Don’t forget to track your activity"}],buttonText:"Next",goalWeightText:`${t} KG → ${s} KG`};return n==="lose"?{...c,introText:"Thanks for logging your goals. You're one step closer to your transformation.",encouragement:`You've got this! Goal day: ${y.value}`}:n==="gain"?{...c,introText:"Great job setting your goals! You're on the path to gaining healthy weight.",encouragement:`Let's do this! Target date: ${y.value}`}:{...c,introText:"Let’s maintain your health and lifestyle together.",encouragement:"Keep it up! Healthy living continues."}});return(n,t)=>(r(),l(j,null,[e("div",E,[C(F,{name:"fade"},{default:z(()=>[p.value?(r(),l("div",q,t[2]||(t[2]=[e("div",null,[e("img",{src:"/images/onboarding/gif/info_guide.gif",alt:"Intro",class:"w-1/3 mx-auto mb-4"}),e("p",{class:"text-lg"},[I(" Congrats! Your account is all set. "),e("br"),I(" Enjoy your "),e("strong",null,"journey with Heka! ")])],-1)]))):k("",!0)]),_:1}),f.value?(r(),l("div",O,[e("div",J,[e("img",{onClick:t[0]||(t[0]=s=>S()),src:o.value.backIcon,alt:"back",class:"w-10 h-10 cursor-pointer"},null,8,Q)]),e("div",X,[e("div",Z,[e("img",{src:o.value.handImage,alt:"thanks",class:"w-2/5 md:w-1/5"},null,8,ee)]),e("div",{class:"text-gray-700 font-medium w-full md:w-4/5 mx-auto",innerHTML:o.value.introText},null,8,te)]),t[3]||(t[3]=e("hr",{class:"my-4 w-4/5 mx-auto"},null,-1)),e("div",ae,[e("p",oe,u(o.value.encouragement),1),e("p",se,u(o.value.goalWeightText),1)]),e("div",{style:V({backgroundColor:o.value.calorieBg}),class:"flex justify-center py-5 w-4/5 md:w-2/3 mx-auto rounded-lg mb-5"},[e("div",ne,[e("div",{innerHTML:o.value.svg},null,8,le),e("div",re,[D(d)?(r(),l("p",ue," 0 ")):(r(),l("p",ie,u(v.value),1)),e("p",ce,u(o.value.dailyGoalLabel),1)])])],4),D(d)?(r(),l("p",ge," Invalid goal, unable to calculate calories ⚠️ ")):(r(),l("p",de,u(o.value.healthTip),1)),D(d)?k("",!0):(r(),l("div",he,[e("p",me,u(o.value.stepsTitle),1),(r(!0),l(j,null,P(o.value.steps,(s,i)=>(r(),l("div",{key:i,class:"flex items-center gap-3 bg-white rounded-xl px-4 py-3 mb-3 shadow-sm"},[e("img",{src:s.img,alt:"step-"+i,class:"w-10 h-10 object-contain"},null,8,fe),e("span",pe,u(s.text),1)]))),128))])),e("div",xe,[e("div",ve,[e("button",{type:"button",class:"text-white bg-black hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-full text-sm px-5 py-2.5 w-full sm:w-1/2 md:w-1/4",onClick:$},u(o.value.buttonText),1)])])])):k("",!0)]),C(R,{visible:x.value,backgroundUrl:g.value,onClose:t[1]||(t[1]=s=>x.value=!1),onAccepted:Y},null,8,["visible","backgroundUrl"])],64))}},De=U(ye,[["__scopeId","data-v-a3018d5e"]]);export{De as default};
