import{k as d,D as j,l as B,b as x,o as b,e as t,g as I,a as H,w as z,n as F,t as w,m as Y,q,F as E}from"./app-CkVIgMMZ.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"w-full md:w-1/3 mx-auto overflow-y-auto pb-28 px-4"},R={class:"relative flex items-start"},J={class:"absolute right-0 top-2 w-3/5 md:w-3/5 max-w-md py-2 px-4 text-left text-lg shadow-lg rounded-2xl bg-white flex items-center mr-1 md:mr-10 box-message"},K=["innerHTML"],Q={key:1},X={class:"max-h-[47vh] xl:max-h-[52vh] overflow-y-auto pb-16 xl:pb-6 goal-weight-options"},Z={class:"flex flex-col mt-6 px-4"},ee={class:"w-1/2 mx-auto"},te={class:"flex flex-col gap-3 px-4"},ae={class:"flex items-center justify-center bg-gray-50 border border-gray-300 rounded-full px-4 py-0 space-x-4 md:w-4/5 w-full mx-auto"},se={class:"text-lg font-semibold w-16 text-center border-b border-gray-300"},le={class:"fixed bottom-0 left-0 right-0 z-40 shadow bg-white pb-2 px-4"},oe={class:"flex items-center justify-center px-4 py-2"},ne=["disabled"],ie={__name:"GoalWeight",props:{userData:Object},emits:["change-screen"],setup(M,{emit:C}){const l=M,y=C,_=d(l.userData.measure_type==="imperial"),c=d(l.userData.current_weight??(_.value?130:50)),p=d([]),r=d(""),n=d(!1),s=d(localStorage.getItem("duration")??1),u=d(localStorage.getItem("unit")??"month"),m=d(l.userData.current_weight);l.userData.goal==="lose"?p.value=Array.from({length:m.value-1},(i,e)=>({name:(e+1).toString(),value:e+1})):l.userData.goal==="gain"&&(p.value=Array.from({length:700-m.value-1},(i,e)=>({name:(m.value+e+1).toString(),value:m.value+e+1}))),(()=>{const{measure_type:i,current_weight:e,goal:o}=l.userData;if(!i||!e||!o)return;let a=e;i==="imperial"?a=o==="lose"?Math.max(1,e-8):Math.min(e+8,700):a=o==="lose"?Math.max(1,e-4):Math.min(e+4,360),c.value=a,l.userData.goal_weight=a})(),j([c,s,u],()=>{const{measure_type:i,current_weight:e,goal:o}=l.userData,a=Number(c.value);if(n.value=!1,r.value="",!i||!o||!e||!s.value)return;const g=o==="lose",k=o==="gain";if(i==="imperial"?g&&a>=e||k&&a<=e?(n.value=!0,r.value=`You want to <span class="font-bold ">${o}</span> weight, so pick a <span class="font-bold">${g?"lower":"higher"}</span> weight.`):(a<1||a>700)&&(n.value=!0,r.value=" Weight must be 1–700 lbs."):g&&a>=e||k&&a<=e?(n.value=!0,r.value=`You want to <span class="font-bold ">${o}</span> weight, so pick a <span class="font-bold">${g?"lower":"higher"}</span> weight.`):(a<1||a>360)&&(n.value=!0,r.value=" Weight must be 1–360 kg."),!n.value){let v=Math.abs(a-e);i==="imperial"&&(v*=.453592);const L=u.value==="month"?s.value*30:u.value==="week"?s.value*7:s.value*365,T=v/L*7,f=o==="gain"?"gaining":"losing",D=i==="imperial",$=D?"lb":"kg",h=D?v/.453592:v,W=Number.isInteger(h)?h.toString():h.toFixed(1),S=u.value==="month"?`${s.value} month${s.value>1?"s":""}`:u.value==="week"?`${s.value} week${s.value>1?"s":""}`:`${s.value} year${s.value>1?"s":""}`;if(T>1.5)r.value=`Hey, <span class="font-bold text-red-600">${f}</span> <span class="font-bold text-red-600">${W}${$}</span> in <span class="font-bold text-red-600">${S}</span> is pretty fast.`,n.value=!0;else{const U=f.charAt(0).toUpperCase()+f.slice(1);r.value=`Awesome progress!<span class="font-bold"> ${U} ${W}${$}</span> in <span class="font-bold">${S}</span> is safe and healthy.`}}setTimeout(()=>{const v=document.querySelector('.vue-scroll-picker-item[aria-selected="true"]');v&&v.classList.toggle("invalid-weight",n.value)},10)});const V=()=>s.value++,G=()=>{s.value>1&&s.value--},N=()=>{localStorage.setItem("goal_weight",c.value),localStorage.setItem("duration",s.value),localStorage.setItem("unit",u.value),l.userData.goal_weight=c.value,l.userData.duration=s.value,l.userData.unit=u.value,y("change-screen","Review",l.userData,!0)},A=()=>{y("change-screen","HeightWeight",l.userData,!1)};return(i,e)=>{const o=B("VueScrollPicker");return b(),x(E,null,[t("div",P,[t("div",{class:"flex items-center mb-2 h-8"},[t("button",{onClick:A,class:"mr-2 bg-gray-200 rounded-full p-1"},e[2]||(e[2]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"})],-1)])),e[3]||(e[3]=t("div",{class:"w-full bg-gray-200 rounded-full h-2"},[t("div",{class:"bg-blue-500 h-2 rounded-full",style:{width:"80%"}})],-1))]),t("div",R,[t("div",J,[r.value?(b(),x("div",{key:0,innerHTML:r.value},null,8,K)):(b(),x("div",Q,e[4]||(e[4]=[I(" What's your "),t("strong",null,"goal?",-1),I(" Let me help customize for you. ")])))]),e[5]||(e[5]=t("div",{class:"ml-0 sm:ml-5 mt-3 goal-weight-gif"},[t("img",{src:"/images/onboarding/gif/info_guide.gif",alt:"Activity Guide",class:"w-1/3"})],-1))]),e[10]||(e[10]=t("hr",{class:"my-2"},null,-1)),t("div",X,[t("div",Z,[e[6]||(e[6]=t("label",{class:"text-gray-900 font-medium"},"Weight",-1)),t("div",ee,[H(o,{options:p.value,modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=a=>c.value=a)},{default:z(({option:a,selected:g})=>[t("div",{class:F([g?"text-2xl font-bold":"text-2xl",g&&n.value?"text-red-500":"text-black"])},w(a.name)+" "+w(_.value?"Ib":"kg"),3)]),_:1},8,["options","modelValue"])])]),t("div",te,[e[9]||(e[9]=t("label",{class:"text-gray-900 font-medium"},"Duration",-1)),t("div",ae,[t("button",{onClick:G,class:"text-xl text-gray-500 hover:text-black"}," − "),t("div",se,w(s.value),1),t("button",{onClick:V,class:"text-xl text-gray-500 hover:text-black"}," + "),e[8]||(e[8]=t("div",{class:"w-px h-6 bg-gray-300 mx-2"},null,-1)),Y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),class:"bg-transparent text-gray-700 focus:outline-none cursor-pointer border-none focus:border-none"},e[7]||(e[7]=[t("option",{value:"month",selected:""},"Month",-1),t("option",{value:"week"},"Week",-1),t("option",{value:"year"},"Year",-1)]),512),[[q,u.value]])])])])]),t("div",le,[t("div",oe,[t("button",{onClick:N,disabled:n.value,class:"w-full md:w-1/4 text-white font-medium rounded-full text-sm px-5 py-2.5 mb-2 transition focus:outline-none focus:ring-4 focus:ring-gray-300 disabled:opacity-50 disabled:cursor-not-allowed bg-black hover:bg-gray-900"}," Next ",8,ne)])])],64)}}},ce=O(ie,[["__scopeId","data-v-2e814dba"]]);export{ce as default};
