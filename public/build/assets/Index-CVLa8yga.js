import w from"./OnboardingLayout-Ccew26UH.js";import _ from"./SignIn-CXenYlLd.js";import I from"./MainGoal-AtdgNsqX.js";import s from"./GenderAge-BWLRnNVs.js";import b from"./Activity-DOCThMki.js";import k from"./HeightWeight-eKoia5Yb.js";import L from"./GoalWeight-CUpGTQaX.js";import M from"./Review-DhXPZ2u1.js";import y from"./Nutribution-dB0Zkvyr.js";import C from"./PaywallModal-EisOvZav.js";import $ from"./SignInModal-BpARZIRG.js";import{s as A,g as x}from"./auth-BqUqKjCL.js";import{k as n,x as G,c as m,o as u,w as N,a as c,L as U}from"./app-BWeXoa2B.js";import"./index-O1smTp8E.js";import"./HeaderOnboarding-DnfAxrXC.js";import"./ApplicationLogo-DK4iSELd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={__name:"Index",setup(B){const g=n(!1),l=n(!1),t=n(!1),i=new URLSearchParams(window.location.search).get("code");i?A(i):f();async function f(){localStorage.getItem("accessToken")&&(g.value=!0,x().then(()=>{const e=localStorage.getItem("group_name");console.log("groupName: ",e),e==="vip"&&(l.value=!0)}))}const p=n({goal:null,current_weight:null,current_height:null,measure_type:null}),d={SignIn:_,MainGoal:I,GenderAge:s,HeightWeight:k,Activity:b,GoalWeight:L,Review:M,Nutribution:y},r=n("MainGoal"),v=G(()=>d[r.value]||s);function h(o,e={},a=!1){e.showIntro=a,e.goal?r.value=e.goal==="healthy"?"Nutribution":o:r.value=o}const S=o=>{login(o),t.value=!1};return(o,e)=>(u(),m(w,null,{default:N(()=>[(u(),m(U(v.value),{userData:p.value,onChangeScreen:h},null,40,["userData"])),c(C,{visible:l.value,backgroundUrl:"/images/onboarding/modal/bg-modal.jpg",onClose:e[0]||(e[0]=a=>l.value=!1),onAccepted:o.handleAccepted,onShowSignInModal:e[1]||(e[1]=a=>t.value=!0)},null,8,["visible","onAccepted"]),c($,{visible:t.value,onClose:e[2]||(e[2]=a=>t.value=!1),onLogin:S},null,8,["visible"])]),_:1}))}};export{Y as default};
