import{k,b as r,o as a,a as T,e,u as w,Z as D,f as h,m as p,q as c,F as u,p as b,t as o,v as m,n as C,N as x}from"./app-BHeukuSA.js";const N={class:"p-6"},V={class:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-4"},S=["value"],M=["value"],U=["value"],A={class:"font-bold mb-6"},j={class:"text-lg"},B={class:"overflow-x-auto"},E={class:"min-w-full border border-collapse text-sm text-center"},L={class:"border px-4 py-2"},F={class:"border px-4 py-2"},H={class:"border px-4 py-2"},O={class:"border px-4 py-2"},P={class:"border px-4 py-2"},Q={class:"border px-4 py-2"},q={class:"mt-4 flex flex-wrap justify-center space-x-2"},z=["onClick","innerHTML","disabled"],$={__name:"ViewTracking",props:{data:Object,eventNames:Array,countries:Array,devices:Array,filters:Object,totalClicks:Number},setup(n){const i=n,s=k({event_name:i.filters.event_name||"",device:i.filters.device||"",country:i.filters.country||"",startDate:i.filters.startDate||"",endDate:i.filters.endDate||""}),y=()=>{x.get(route("tracking.viewTracking"),s.value,{preserveState:!0,preserveScroll:!0})},f=d=>{d&&x.get(d,s.value,{preserveScroll:!0,preserveState:!0})},g=d=>d.split("T")[0]+" "+d.split("T")[1].split(".")[0];return(d,l)=>(a(),r(u,null,[T(w(D),{title:"Thống kê Click"}),e("div",N,[l[15]||(l[15]=e("h2",{class:"text-2xl font-semibold mb-6 flex items-center space-x-2"},[e("span",null,"📊"),e("span",null,"Thống kê Click")],-1)),e("form",{onSubmit:h(y,["prevent"])},[e("div",V,[e("div",null,[l[6]||(l[6]=e("label",{class:"text-sm font-medium mb-1 block"},"Event Name",-1)),p(e("select",{"onUpdate:modelValue":l[0]||(l[0]=t=>s.value.event_name=t),class:"w-full border rounded px-2 py-1"},[l[5]||(l[5]=e("option",{value:""},"Tất cả",-1)),(a(!0),r(u,null,b(n.eventNames,t=>(a(),r("option",{key:t,value:t},o(t),9,S))),128))],512),[[c,s.value.event_name]])]),e("div",null,[l[8]||(l[8]=e("label",{class:"text-sm font-medium mb-1 block"},"Thiết bị",-1)),p(e("select",{"onUpdate:modelValue":l[1]||(l[1]=t=>s.value.device=t),class:"w-full border rounded px-2 py-1"},[l[7]||(l[7]=e("option",{value:""},"Tất cả",-1)),(a(!0),r(u,null,b(n.devices,t=>(a(),r("option",{key:t,value:t},o(t),9,M))),128))],512),[[c,s.value.device]])]),e("div",null,[l[10]||(l[10]=e("label",{class:"text-sm font-medium mb-1 block"},"Quốc gia",-1)),p(e("select",{"onUpdate:modelValue":l[2]||(l[2]=t=>s.value.country=t),class:"w-full border rounded px-2 py-1"},[l[9]||(l[9]=e("option",{value:""},"Tất cả",-1)),(a(!0),r(u,null,b(n.countries,t=>(a(),r("option",{key:t,value:t},o(t),9,U))),128))],512),[[c,s.value.country]])]),e("div",null,[l[11]||(l[11]=e("label",{class:"text-sm font-medium mb-1 block"},"Từ ngày",-1)),p(e("input",{type:"date","onUpdate:modelValue":l[3]||(l[3]=t=>s.value.startDate=t),class:"w-full border rounded px-2 py-1"},null,512),[[m,s.value.startDate]])]),e("div",null,[l[12]||(l[12]=e("label",{class:"text-sm font-medium mb-1 block"},"Đến ngày",-1)),p(e("input",{type:"date","onUpdate:modelValue":l[4]||(l[4]=t=>s.value.endDate=t),class:"w-full border rounded px-2 py-1"},null,512),[[m,s.value.endDate]])])]),l[13]||(l[13]=e("div",{class:"text-right mb-6"},[e("button",{type:"submit",class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded"}," 🔍 Tìm kiếm ")],-1))],32),e("div",A,[e("span",j,"Tổng số lượt click: "+o(n.totalClicks),1)]),e("div",B,[e("table",E,[l[14]||(l[14]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"border px-4 py-2"},"#"),e("th",{class:"border px-4 py-2"},"Event"),e("th",{class:"border px-4 py-2"},"IP"),e("th",{class:"border px-4 py-2"},"Quốc gia"),e("th",{class:"border px-4 py-2"},"Thiết bị"),e("th",{class:"border px-4 py-2"},"Thời gian")])],-1)),e("tbody",null,[(a(!0),r(u,null,b(n.data.data,(t,v)=>(a(),r("tr",{key:t.id,class:"hover:bg-gray-50"},[e("td",L,o(v+1+(n.data.current_page-1)*n.data.per_page),1),e("td",F,o(t.event_name),1),e("td",H,o(t.ip_address),1),e("td",O,o(t.country),1),e("td",P,o(t.device),1),e("td",Q,o(g(t.created_at)),1)]))),128))])]),e("div",q,[(a(!0),r(u,null,b(n.data.links,(t,v)=>(a(),r("button",{key:v,onClick:I=>f(t.url),innerHTML:t.label,disabled:!t.url,class:C(["px-3 py-1 border rounded",{"bg-blue-600 text-white":t.active,"text-gray-500":!t.url}])},null,10,z))),128))])])])],64))}};export{$ as default};
